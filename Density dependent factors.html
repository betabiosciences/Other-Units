<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Initial page setup script -->
  <script>
    function runInitialSetup() {
      // This function contains code for initial page validation and setup.
      const allowedDomain = "https://betabiosciences.github.io/";
      
      if (!window.location.href.startsWith(allowedDomain)) {
        document.documentElement.style.display = 'none';
        document.open();
        document.write('');
        document.close();
      }
    }
    
    runInitialSetup(); // Call the setup function immediately.
  </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Density-Dependent Factors</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e8f4fd;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 100vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem;
            text-align: center;
            border-bottom: 2px solid #00d4ff;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            color: #00d4ff;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #ff6b6b);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .content-area {
            flex: 1;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: calc(100vh - 120px);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(0, 212, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #ff6b6b;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            text-align: center;
            border-bottom: 2px solid #ff6b6b;
            padding-bottom: 0.5rem;
        }

        .section h3 {
            color: #00d4ff;
            font-size: 1.3rem;
            margin: 1.5rem 0 1rem 0;
        }

        .section p {
            line-height: 1.8;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }
        
        .section img {
            display: block;
            margin: 1.5rem auto;
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(0, 212, 255, 0.3);
        }

        .section ul {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        .section li {
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .section li strong {
            color: #00d4ff;
        }

        .formula-box {
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid #00d4ff;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: #00d4ff;
        }

        .case-study {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #ff6b6b;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 10px 10px 0;
        }

        .quiz-question {
            background: rgba(0, 212, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 2px solid rgba(0, 212, 255, 0.3);
        }

        .quiz-question h4 {
            color: #00d4ff;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .quiz-options {
            list-style: none;
            padding: 0;
        }

        .quiz-options li {
            background: rgba(255, 255, 255, 0.1);
            margin: 0.5rem 0;
            padding: 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .quiz-options li:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
        }

        .quiz-options li.correct {
            background: rgba(46, 204, 113, 0.3);
            border-color: #2ecc71;
            color: #2ecc71;
            font-weight: bold;
        }

        .quiz-options li.incorrect {
            background: rgba(231, 76, 60, 0.3);
            border-color: #e74c3c;
            color: #e74c3c;
            font-weight: bold;
        }

        .footer {
            background: rgba(0, 0, 0, 0.8);
            padding: 2rem 1rem;
            text-align: center;
            border-top: 2px solid #00d4ff;
            margin-top: 2rem;
        }

        .footer img {
            max-width: 100px;
            height: auto;
            margin-bottom: 1rem;
        }

        .footer p {
            color: #e8f4fd;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 100;
        }

        .nav-btn {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.5);
        }

        .nav-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .section-indicator {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            z-index: 100;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #00d4ff;
            transform: scale(1.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .content-area {
                padding: 1rem 0.5rem;
            }
            
            .section {
                padding: 1.5rem;
                margin: 0 0.5rem;
            }
            
            .nav-btn {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            
            .navigation {
                bottom: 10px;
                gap: 0.5rem;
            }
            
            .section-indicator {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Density-Dependent Factors</h1>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="content-area">
            <!-- Section 1: Introduction -->
            <div class="section active" id="section1">
                <h2>What Are Density-Dependent Factors?</h2>
                <p>Density-dependent factors are those that alter their influence on a population based on the population's size or density. In simple terms, the more individuals there are in a given area, the stronger the effect of these factors. Conversely, when a population is sparse, these factors have a lesser impact on individuals.</p>
                <p>Think of it this way: the more crowded a group becomes, the more intensely these factors limit its growth.</p>
            </div>

            <!-- Section 2: Types -->
            <div class="section" id="section2">
                <h2>Types of Density-Dependent Factors</h2>
                <ul>
                    <li><strong>Competition for Resources:</strong> As a population grows, individuals compete more fiercely for limited resources like food, water, and nesting sites. This increased competition can reduce birth rates or increase death rates. For example, if there's not enough food to go around, fewer offspring may survive, or adults may be too malnourished to reproduce.</li>
                    <li><strong>Disease and Parasitism:</strong> In dense populations, diseases and parasites spread more easily from one individual to another, leading to higher rates of sickness and death.</li>
                    <li><strong>Predation:</strong> Predators may become more efficient at catching prey when the prey population is large and concentrated.</li>
                </ul>
            </div>

            <!-- Section 3: Detection Methods -->
            <div class="section" id="section3">
                <h2>How Do Scientists Detect Density Dependence?</h2>
                <p>Scientists use specific methods to prove that a factor is density-dependent. The text describes two key approaches:</p>
                <h3>1. Plotting Mortality Against Population Density:</h3>
                <p>This is the most direct way to visualize the relationship. Researchers plot the percentage of a population that dies against its density. If the resulting line has a <strong>positive slope</strong>, it shows that as the population gets denser, mortality increases. This confirms that the factor is acting in a density-dependent manner. This method is often used to compare different areas at a single point in time.</p>
                <img src="https://betabiosciences.github.io/Other-Units/Density%20dependent%20factors%20fig1.jpg" alt="A graph showing a positive correlation between population density and percent mortality, demonstrating a density-dependent factor.">
                <h3>2. Using "Killing Power" (k-value) Over Time:</h3>
                <p>For studies that track a population over many years, scientists can use a logarithmic measure called the <strong>k-value</strong>, or "killing power." This value quantifies the impact of a mortality factor. The formula for the k-value is:</p>
                <div class="formula-box">
                    k = log N<sub>(t)</sub> − log N<sub>(t+1)</sub>
                </div>
                <p>Where N<sub>(t)</sub> is the population size <em>before</em> the mortality event and N<sub>(t+1)</sub> is the size <em>after</em>. By plotting the k-value against the log of the population size, a <strong>positive slope</strong> reveals that the factor's "killing power" increases as the population grows over time.</p>
            </div>

            <!-- Section 4: Case Study 1 -->
            <div class="section" id="section4">
                <h2>Case Studies in Density-Dependent Regulation</h2>
                <div class="case-study">
                    <h3>1. The Gall Fly and Its Parasitic Wasp:</h3>
                     <img src="https://betabiosciences.github.io/Other-Units/Density%20dependent%20factors%20fig2.jpg" alt="The Gall Fly, Urophora jaceana, and its parasitic wasp, Eurytoma curta.">
                    <ul>
                        <li>Varley studied the fly <em>Urophora jaceana</em>, which lays eggs in knapweed flowers. The larvae develop inside the plant's galls.</li>
                        <li>A tiny parasitic wasp, <em>Eurytoma curta</em>, preys on these fly larvae. The female wasp lays her eggs on the young fly larvae inside the galls. The wasp larvae then consume the fly larvae, so instead of a fly emerging, a wasp does.</li>
                        <li>Varley's research showed a clear link: in patches of knapweed where the fly larvae were more numerous, a <strong>greater proportion</strong> of them were killed by the parasitic wasps. This was one of the earliest clear demonstrations that parasitism can be a density-dependent factor.</li>
                    </ul>
                </div>
            </div>

            <!-- Section 5: Case Study 2 -->
            <div class="section" id="section5">
                <div class="case-study">
                    <h3>2. The Oak Winter Moth:</h3>
                    <img src="https://betabiosciences.github.io/Other-Units/Density%20dependent%20factors%20fig3.jpg" alt="The Oak Winter Moth, a subject of a long-term study on density-dependent predation.">
                    <ul>
                        <li>In a landmark long-term study, Varley tracked populations of the oak winter moth for over a decade.</li>
                        <li>He used the k-value method to analyze the effect of predators like beetles and shrews on the moth's pupae.</li>
                        <li>His findings were significant: in years when the density of moth pupae was high, the rate of predation was also high. Conversely, when the pupa density was low, predation was low. This showed that the killing power of the predators was <strong>density-dependent over time</strong>. This constant regulation prevented the moth population from experiencing massive, uncontrolled outbreaks. It's a perfect example of how density-dependent factors can act as a natural brake on population growth.</li>
                    </ul>
                </div>
            </div>

            <!-- Section 6: Graph Analysis -->
            <div class="section" id="section6">
                <h2>Understanding the Research Graphs</h2>
                <p>The image contains two graphs that illustrate the ecological concept of <strong>density dependence</strong>, a phenomenon where the effect of a factor on a population increases as the density of that population rises.</p>
                <p>The first graph, labeled <strong>(a)</strong>, focuses on the relationship between parasitic wasps and their host, fly larvae found in knapweed. The x-axis plots the percentage of flower heads containing host larvae, representing host density, while the y-axis shows the percentage of hosts that have been parasitized. The clear upward trend of the red line, which fits the data points, demonstrates a positive correlation. This means that as the density of the fly larvae increases, so does the rate of parasitism. This is a classic example of positive density dependence, where the parasites are more efficient at finding and attacking their hosts when they are more concentrated.</p>
                <p>The second graph, labelled <strong>(b)</strong>, presents a similar relationship, but for a different predator-prey system: predatory beetles and shrews preying on winter moth pupae. The x-axis, labelled "Log N," represents the density of the winter moth pupae on a logarithmic scale. The y-axis, represented by the "k-value," is a measure of mortality, with a higher value indicating greater mortality. Like the first graph, this one also shows a clear positive trend. As the density of the winter moth pupae increases, the mortality caused by the predators also rises. This again highlights a positive density-dependent relationship, where the predators are more effective at controlling the prey population when the prey is more numerous.</p>
                <p>In conclusion, both graphs effectively demonstrate that the regulatory impact of natural enemies—in this case, parasitic wasps and predatory beetles/shrews—on a host or prey population becomes more pronounced as the density of that population increases. This principle is a cornerstone of population ecology, explaining how natural factors can regulate and stabilize population sizes over time.</p>
            </div>

            <!-- Section 7: Density-Independent -->
            <div class="section" id="section7">
                <h2>Density-Independent Factors</h2>
                <p>A density-independent factor is a mortality factor whose influence on a population's size is not affected by its density. In a graph plotting mortality against population density, this relationship is represented by a flat, horizontal line. These factors are typically physical or abiotic, such as extreme weather events like freezes, floods, and droughts, or large-scale disturbances like fires. For example, a severe freeze can kill a significant percentage of a bird or plant population, regardless of how large or small the population is, because most individuals are equally vulnerable.</p>
                <p>However, even physical factors can sometimes act in a density-dependent manner. For instance, in a large bear population with a limited number of dens, a cold winter would kill a higher percentage of bears because some would lack shelter. Conversely, if the population were small, most bears would have dens, and the same cold winter would result in a lower percentage of deaths. This illustrates how resource limitation can cause a physical factor to act in a density-dependent way.</p>
                <p>Furthermore, some biotic factors, such as newly introduced diseases to which a native species has no adaptation, can act in a density-independent fashion. These diseases can be so virulent that they kill nearly all host individuals, regardless of their density. A notable historical example is the chestnut blight, which devastated the American chestnut tree population in the mid-20th century, killing virtually all the trees regardless of how dense the forest was.</p>
                <p>The key takeaway is that while density-independent factors are generally physical, and density-dependent factors are typically biotic, this distinction is not absolute. The context of resource availability or lack of adaptation can cause a factor to behave differently, influencing a population's size in a way that doesn't fit the typical definition.</p>
            </div>

            <!-- Section 8: Inverse Density-Dependent -->
            <div class="section" id="section8">
                <h2>Inverse Density-Dependent Factors</h2>
                <p>A factor that causes mortality to decrease as a population's size increases is known as an <strong>inverse density-dependent factor</strong>. When plotted on a graph, this relationship is shown by a negative slope. A classic example is a group of territorial predators, like a lion pride, that consistently eats the same number of prey animals, such as wildebeest, regardless of the wildebeest population's size. In a large wildebeest population, the lions' fixed consumption rate represents a smaller proportion of the total herd, making their impact inversely related to the prey's density. Some territorial mammalian predators exhibit this behaviour.</p>
            </div>

            <!-- Section 9: Practical Importance -->
            <div class="section" id="section9">
                <h2>Importance of Understanding Density Dependence</h2>
                <p>Understanding which factors are density-dependent has significant practical implications for fields like forestry, wildlife management, and conservation. Professionals in these areas need to know how to maintain populations at stable, healthy levels. For instance, if a disease acts as a density-dependent regulator for a white-tailed deer population, it would be pointless for game managers to kill off predators like mountain lions to increase the herd size for hunters. An increase in the deer population would simply lead to a higher percentage of deaths from the density-dependent disease, offsetting any gains.</p>
                <p>A review by Tony Sinclair (1989) examined studies on density dependence across numerous populations of insects, large mammals, and small mammals/birds. The findings showed that for insects, a wide range of factors contributed to density dependence, with no single factor being dominant. For large mammals, <strong>food availability</strong> was the most critical factor, as their large size makes them particularly vulnerable to food scarcity. For smaller mammals and birds, <strong>space and social interactions</strong> were more important, as their territorial nature means a decrease in available space increases mortality. Sinclair also noted that the role of disease and parasitism may have been underestimated in his data for animals other than insects due to the difficulty of studying these factors in the field.</p>
                <p>It's important to recognize that not all mortality factors operate in a density-dependent manner. This can sometimes be explained by specific biological strategies, such as <strong>risk spreading</strong>. For example, a parasitic wasp might intentionally lay some of its eggs in low-density, suboptimal areas of knapweed, even if denser areas are available. The reasoning is that a local catastrophe, like a herd of cattle eating all the plants in a dense patch, could wipe out all her offspring. By "spreading the risk" and laying some eggs in more isolated spots, the wasp ensures that at least some of her progeny will survive, a behavior that would be favored by natural selection.</p>
                <img src="https://betabiosciences.github.io/Other-Units/Density%20dependent%20factors%20fig4.jpg" alt="A summary diagram showing the three types of density dependence: positive, negative (inverse), and independent, represented by graphs.">
            </div>

            <!-- Section 10: Quiz -->
            <div class="section" id="section10">
                <h2>Test Your Knowledge</h2>
                
                <div class="quiz-question">
                    <h4>1. Which of the following is a key characteristic of density-dependent factors?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. They are typically physical or abiotic factors.</li>
                        <li onclick="selectAnswer(this, true)">b. Their influence on a population strengthens as the population's size or density increases.</li>
                        <li onclick="selectAnswer(this, false)">c. Their influence on a population is constant, regardless of its size.</li>
                        <li onclick="selectAnswer(this, false)">d. Their effect on a population weakens as the population becomes denser.</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>2. It is given that 'competition for resources' as an example of a density-dependent factor. How does this factor typically affect a population as it grows?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. It increases the availability of resources for each individual.</li>
                        <li onclick="selectAnswer(this, true)">b. It can reduce birth rates or increase death rates as individuals compete more fiercely.</li>
                        <li onclick="selectAnswer(this, false)">c. It causes individuals to migrate to new areas, stabilizing the population size.</li>
                        <li onclick="selectAnswer(this, false)">d. It leads to a reduction in resource availability, but has no effect on birth or death rates.</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>3. Which of the following is a method scientists use to prove that a factor is density-dependent?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. Calculating the total number of individuals that die in a given area.</li>
                        <li onclick="selectAnswer(this, true)">b. Plotting the percentage of a population that dies against its density.</li>
                        <li onclick="selectAnswer(this, false)">c. Plotting mortality against the age of the population.</li>
                        <li onclick="selectAnswer(this, false)">d. Tracking the population's size over a single year and observing changes</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>4. What is the 'k-value,' or 'killing power,' used for?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. To calculate the birth rate of a population.</li>
                        <li onclick="selectAnswer(this, true)">b. To quantify the impact of a mortality factor over time.</li>
                        <li onclick="selectAnswer(this, false)">c. To determine the maximum population size an environment can support.</li>
                        <li onclick="selectAnswer(this, false)">d. To measure the overall health of a population.</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>5. Which of the following could cause a physical factor to act in a density-dependent manner?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. An abundance of resources is available.</li>
                        <li onclick="selectAnswer(this, false)">b. The population's individuals are all the same age.</li>
                        <li onclick="selectAnswer(this, false)">c. A population's size decreases over time.</li>
                        <li onclick="selectAnswer(this, true)">d. The availability of a resource is limited.</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>6. What is an inverse density-dependent factor?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, true)">a. A factor that causes mortality to decrease as a population's size increases.</li>
                        <li onclick="selectAnswer(this, false)">b. A factor that causes mortality to remain constant regardless of population size.</li>
                        <li onclick="selectAnswer(this, false)">c. A factor that causes mortality to increase as a population's size increases.</li>
                        <li onclick="selectAnswer(this, false)">d. A factor that primarily affects younger individuals in a population.</li>
                    </ul>
                </div>

                <div class="quiz-question">
                    <h4>7. Why is it important for wildlife managers to understand density-dependent factors?</h4>
                    <ul class="quiz-options">
                        <li onclick="selectAnswer(this, false)">a. To identify which populations are not limited by any factors.</li>
                        <li onclick="selectAnswer(this, false)">b. To increase the populations of all animals in an area for hunting and conservation.</li>
                        <li onclick="selectAnswer(this, true)">c. To know how to maintain populations at stable, healthy levels.</li>
                        <li onclick="selectAnswer(this, false)">d. To determine which animals are most susceptible to climate change.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="footer">
            <img src="https://betabiosciences.github.io/Biochemistry-animations/Logo%20transparent.png" alt="BETA Biosciences Logo">
            <p>© 2025 BETA Biosciences. All rights reserved.<br>
            Email: betabiosciences@gmail.com</p>
        </div>

        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="changeSection(-1)">← Previous</button>
            <button class="nav-btn" id="nextBtn" onclick="changeSection(1)">Next →</button>
        </div>

        <div class="section-indicator" id="sectionIndicator">
            <!-- Dots will be generated by JavaScript -->
        </div>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 10;

        function initializeApp() {
            generateIndicatorDots();
            updateNavigation();
            updateProgress();
        }

        function generateIndicatorDots() {
            const indicator = document.getElementById('sectionIndicator');
            for (let i = 1; i <= totalSections; i++) {
                const dot = document.createElement('div');
                dot.className = 'indicator-dot';
                if (i === 1) dot.classList.add('active');
                dot.onclick = () => goToSection(i);
                indicator.appendChild(dot);
            }
        }

        function changeSection(direction) {
            const newSection = currentSection + direction;
            if (newSection >= 1 && newSection <= totalSections) {
                goToSection(newSection);
            }
        }

        function goToSection(sectionNum) {
            // Hide current section
            document.getElementById(`section${currentSection}`).classList.remove('active');
            
            // Show new section
            currentSection = sectionNum;
            document.getElementById(`section${currentSection}`).classList.add('active');
            
            // Update indicators
            updateIndicators();
            updateNavigation();
            updateProgress();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateIndicators() {
            const dots = document.querySelectorAll('.indicator-dot');
            dots.forEach((dot, index) => {
                if (index + 1 === currentSection) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentSection === 1;
            nextBtn.disabled = currentSection === totalSections;
        }

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progress = (currentSection / totalSections) * 100;
            progressFill.style.width = `${progress}%`;
        }

        function selectAnswer(selectedOption, isCorrect) {
            const questionDiv = selectedOption.closest('.quiz-question');
            const allOptions = questionDiv.querySelectorAll('.quiz-options li');

            // Disable further clicks on any option for this question
            allOptions.forEach(option => {
                option.style.pointerEvents = 'none';
            });

            // If the user's choice was incorrect, highlight it as such.
            if (!isCorrect) {
                selectedOption.classList.add('incorrect');
            }

            // Always find and highlight the correct answer.
            allOptions.forEach(option => {
                // Check if this option is the correct one based on its onclick attribute
                const isOptionCorrect = option.getAttribute('onclick').includes('true');
                if (isOptionCorrect) {
                    option.classList.add('correct');
                }
            });
        }


        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                changeSection(-1);
            } else if (event.key === 'ArrowRight') {
                changeSection(1);
            }
        });

        // Touch navigation for mobile
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(event) {
            touchStartX = event.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(event) {
            touchEndX = event.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50; // Minimum swipe distance
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe left - go to next section
                    changeSection(1);
                } else {
                    // Swipe right - go to previous section
                    changeSection(-1);
                }
            }
        }

        // Initialize the app
        initializeApp();
    </script>
</body>
</html>

